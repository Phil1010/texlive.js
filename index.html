<!doctype html>
<html>

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <script src="promisejs/promise.js"></script>
  <script src="pdftex.js"></script>
</head>

<body>
  <h1>texlive.js â€“ A LaTeX Compiler for Javascript</h1>

  <h2>
    Usage
  </h2>
  <code style="width: 55em; margin: 0 auto; padding: 1em; display: block">
      <span class="keyword">var</span> pdftex = <span class="keyword">new</span> PDFTeX();<br />
      <span class="keyword">var</span> latex_code = <span class="string">""</span> + <br />
      <span class="string">&nbsp;&nbsp;"\\documentclass{article}"</span> + <br />
      <span class="string">&nbsp;&nbsp;"\\begin{document}"</span> + <br />
      <span class="string">&nbsp;&nbsp;"\\LaTeX is great!"</span> + <br />
      <span class="string">&nbsp;&nbsp;"$E = mc^2$"</span> + <br />
      <span class="string">&nbsp;&nbsp;"\\end{document}"</span>;
      <br /><br />
      pdftex.compile(latex_code).then(<span class="keyword">function</span>(pdf) {
        // PDF compilation completed
        // Use 'pdf' variable as desired
        console.log(pdf);
        // Example: Download PDF
        var link = document.createElement('a');
        link.href = pdf;
        link.download = 'output.pdf';
        link.click();
      });
    </code>

  <div id="tabs">
    <div class="tab" id="tab_input">
      <h2>
        Demo
      </h2>
      <h3>
        LaTeX Input
      </h3>
      <textarea rows="10" id="input">
\documentclass{article}
\begin{document}
Hello, LaTeX!
\end{document}
        </textarea>
      <br />
      <button id="compile">Compile this LaTeX code to a PDF</button>
    </div>
  </div>

  <script>
    var compile = function (source_code) {
      var pdftex = new PDFTeX();
      return pdftex.compile(source_code);
    }

    document.getElementById("compile").addEventListener("click", function (e) {
      var source_code = document.getElementById("input").value;
      compile(source_code).then(function (pdf) {
        // PDF compilation completed
        // Use 'pdf' variable as desired
        console.log(pdf);
        // Example: Download PDF
        var link = document.createElement('a');
        link.href = pdf;
        link.download = 'output.pdf';
        link.click();
      });
    });
  </script>
</body>

</html>